# 웹서버 디렉토리 구조

## 홈 디렉토리 구조
- deploy : 배포를 위한 디렉토리. 배포할 웹앱은 deploy 디렉토리에 저장된다.
- logs : 각종 로그를 보관하는 디렉토리.
- apps : 웹서버를 운영하는데 필요한 각종 앱을 보관하는 디렉토리.
- scripts : 웹서버를 운영하는데 필요한 스크립트들을 보관하는 디렉토리.

## deploy 디렉토리
- 배포된 웹앱들이 저장되는 디렉토리.
- 톰캣은 deploy에 저장된 웹앱들을 실행하도록 설정한다.(예를들어 server.xml 설정)
- war파일처럼 하나로 압축된 파일보다는 실제 컴파일된 파일들이 디렉토리 구조로 들어가는 것을 지향한다.
- 배포되기 전의 웹앱을 간단히 백업해두어도 좋으나 너무 많이 남겨두면 많은 디스크 공간을 차지하여 문제가 발생할 수도 있다.  

## logs 디렉토리
- 로그는 웹서비스에서 가장 중요한 자산이다.
- 로그도 역할에 따라 구분하여 저장하는 것이 좋다. 역할에 따라서 알맞은 이름을 지어주어 나중에 보기 편하도록 해준다. 
- 로그의 이름도 매우 중요하니 신경써서 지어주어야 한다.
- 이미 날짜가 지난 로그는 압축해서 보관하는 것도 좋은 방법이다. logback 같은 라이브러리를 이용하면 로그 압축도 자동으로 할 수 있다.
- 로그 디렉토리에는 오직 로그만 보관한다.
- 로그도 웹서비스 또는 프로젝트에 따라 구분해서 저장한다.
- 서버나 상황에 따라서 로그의 수준(debug, info, error 등)을 조절한다.

## apps 디렉토리
- 웹서버를 운영하는데 필요한 애플리케이션들은 apps 디렉토리에 저장한다.
- 아파치 서버도 매우 다양한 기능이 있다. 시간이 있을때 한번 문서를 쭉 읽어보는 것이 좋다. 
- 아파치 서버와 톰캣 서버 모두 있는 그대로 사용하는 것이 아닌 자신의 프로젝트 및 환경에 따라서 적절히 환경설정을 해서 사용하는 것이 좋다.

## scripts 디렉토리
- 웹서버를 운영하는데 필요한 스크립트들은 scripts 디렉토리에 저장한다.
- 스크립트를 이용하면 귀찮은 작업들을 자동화하여 생산성을 높일 수 있다. 좀더 적극적으로 사용하는 것이 좋다.

## 환경설정 분리
- 상황에 따라서 WAS를 여러개 띄우게 될 수 있다. 이때 일일이 WAS마다 설정을 하는 것은 매우 번거롭고 실수하기에도 좋다. 공통적은 설정들은 따로 분리하여 관리하는 것은 권한다.
